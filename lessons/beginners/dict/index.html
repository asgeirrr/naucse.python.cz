<!doctype html>
<html lang="cs">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>
            
                Slovníky
            
        </title>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
        <link rel="stylesheet" href="/static/css/nausce.css">
        <link rel="stylesheet" href="/static/css/body.css">
        <link rel="stylesheet" href="/static/css/pygments-lovelace-style.css">
        

        
        

        <style>
            
    

        </style>
    </head>
    
    <body>
        
        <nav class="header">
            <ul class="container menu">
                <li><a href="/" class="logo"><h1>Nauč se Python!</h1></a></li>
                <li><a href="/courses/" class="menu-link"><h2>Materiály</h2></a></li>
                <li><a href="/runs/" class="menu-link"><h2>Kurzy</h2></a></li>
            </ul>
        </nav>
        

        
            <div class="content">
                <div class="alert alert-danger" role="alert">
                    Tato stránka je momentálně v rekonstrukci.
                    Pokud se chcete podílet na vylepšování těchto stránek,
                    navštivte repozitář na
                    <a href="https://github.com/pyvec/naucse.python.cz">GitHubu</a>.
                </div>
            </div>
        

        

<div class="page">
    <div class="container">

        

        
            <div class="row stuff">
                <section class="col-lg-12">
                    <h1>Slovníky</h1>
                    <div>
                        Další základní datový typ, který si představíme –
                        po číslech, řetězcích, seznamech a <em>n</em>-ticích –
                        jsou <em>slovníky</em> (angl. <em>dictionary</em>,
                        <code>dict</code>).
                    </div>
                    <div>
                        Jako seznamy, slovníky obsahují další hodnoty.
                        Na rozdíl od seznamů, ve kterých jsou všechny prvky
                        uspořádané do sekvence, ve slovnících máme dva druhy
                        prvků: takzvaný <em>klíč</em> (angl. <em>key</em>)
                        a <em>hodnotu</em> (angl. <em>value</em>).
                        Každému klíči je přiřazena nějaká hodnota.
                    </div>
                    <div>
                        Slovník můžeš použít, když máš několik kousků
                        informací, které se dají pojmenovat, ale chceš s nimi
                        pracovat jako s jednou proměnnou.
                    </div>
                    <div>
                        Tady je slovník, který má tři klíče, a k nim příslušné
                        tři hodnoty:
                    </div>
<pre>
ja = {'jméno': 'Anna', 'město': 'Brno', 'čísla': [3, 7]}
</pre>
                    <div class="note">
                        Když slovník vypíšeš, pravděpodobně zjistíš,
                        se klíče a hodnoty vypíšou v jiném pořadí.
                        Slovníky totiž, na rozdíl od seznamů, nemají dané
                        pořadí prvků – jen přiřazují hodnoty klíčům.
                    </div>
                    <div>
                        Hodnoty ze slovníku můžeš získat podobně jako
                        ze seznamu, jen místo indexu (pozice) použiješ klíč:
                    </div>
<pre>
>>> ja['jméno']
'Anna'
</pre>
                    <div>
                        Zeptáš-li se na neexistující klíč, nebude se to Pythonu
                        líbit:
                    </div>
<pre>
>>> ja['věk']
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
KeyError: 'věk'
</pre>
                    <div>
                        Hodnoty jdou podle klíče i měnit:
                    </div>
<pre>
>>> ja['čísla'] = [3, 7, 42]
>>> ja
{'čísla': [3, 7, 42], 'jméno': 'Anna', 'město': 'Brno'}
</pre>
                    <div>
                        ... nebo přidávat:
                    </div>
<pre>
>>> ja['jazyk'] = 'Python'
>>> ja
{'jazyk': 'Python', 'čísla': [3, 7, 42], 'jméno': 'Anna', 'město': 'Brno'}
</pre>
                    <div>
                        ... nebo ubírat
                        (příkazem <code>del</code>, podobně jako u seznamů):
                    </div>
<pre>
>>> del ja['čísla']
>>> ja
{'jazyk': 'Python', 'jméno': 'Anna', 'město': 'Brno'}
</pre>
                </section>
                <section class="col-lg-12">
                    <h2>Vyhledávací tabulka</h2>
                    <div>
                        Trochu jiné použití slovníku, než sdružování
                        „různých“ typů informací, je takzvaná
                        <em>vyhledávací tabulka</em>
                        (angl. <em>lookup table</em>).
                        V ní mají typicky všechny hodnoty stejný typ.
                        <!-- TODO: dopsat! -->
                    </div>
<pre>
barvy = {
    'hruška': 'zelená',
    'jablko': 'červená',
    'meloun': 'zelená',
    'švestka': 'modrá',
    'ředkvička': 'červená',
    'zelí': 'zelená',
    'mrkev': 'červená',
}
</pre>
                </section>
                <section class="col-lg-12">
                    <h2>Iterace</h2>
                    <div>
                        Když dáš slovník do cyklu <code>for</code>,
                        dostaneš klíče:
                    </div>
<pre>
>>> popisy_funkci = {'len': 'délka', 'str': 'řetězec', 'dict': 'slovník'}
>>> for klic in popisy_funkci:
...     print(klic)
str
dict
len
</pre>
                    <div>
                        Pokud chceš hodnoty, stačí použít metodu
                        <code>values</code>:
                    </div>
<pre>
>>> for hodnota in popisy_funkci.values():
...     print(hodnota)
řetězec
slovník
délka
</pre>
                    <div>
                        Většinou ale potřebuješ jak klíče tak hodnoty.
                        K tomu mají slovníky metodu <code>items</code>,
                        která vrátí „něco jako seznam” dvojic:
                    </div>
<pre>
>>> for klic, hodnota in popisy_funkci.items():
...     print('{}: {}'.format(klic, hodnota))
str: řetězec
dict: slovník
len: délka
</pre>
                    <div class="note">
                        Existuje i metoda <code>keys()</code>,
                        která vrací klíče.
                        To, co <code>keys()</code>, <code>values()</code>
                        a <code>items()</code> vrací, jsou speciální objekty,
                        které kromě použití ve <code>for</code> umožňuje další
                        operace: například pracovat s klíči jako s množinou.
                        V <a href="https://docs.python.org/3.0/library/stdtypes.html#dictionary-view-objects">dokumentaci</a> Pythonu
                        je to všechno popsáno.
                    </div>
                    <div>
                        V průběhu takového <code>for</code> cyklu nesmíš
                        do slovníku přidávat záznamy, ani záznamy odebírat:
                    </div>
<pre>
>>> for klic in popisy_funkci:
...     del popisy_funkci[klic]
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
RuntimeError: dictionary changed size during iteration
</pre>
                    <div>
                        Hodnoty u už existujících klíčů ale měnit můžeš.
                    </div>
                </section>
                <section class="col-lg-12">
                    <h2>Jak udělat slovník</h2>
                    <div>
                        Slovník se dá vytvořit dvěma způsoby.
                        První, pomocí {složených závorek}, jsme už viděly;
                        další využívají funkci <code>dict</code>.
                        Ta, ve stylu <code>str</code>, <code>int</code>
                        či <code>list</code>, převede cokoli, co jde,
                        na slovník.
                    </div>
                    <div>
                        Slovník je ovšem dost specifická struktura –
                        čísla nebo typické seznamy na něj převádět nejdou.
                        Můžeme ale na slovník převést <em>jiný slovník</em>.
                        Nový slovník žije svým vlastním životem;
                        následné změny se promítnou jen do něj.
                    </div>
<pre>
barvy_po_tydnu = dict(barvy)
for klic in barvy_po_tydnu:
    barvy_po_tydnu[klic] = 'černo-hnědo-' + barvy_po_tydnu[klic]
print(barvy['jablko'])
print(barvy_po_tydnu['jablko'])
</pre>
                    <div>
                        Druhá věc, která jde převést na slovník, je
                        <em>sekvence dvojic</em> klíč/hodnota:
                    </div>
<pre>
data = [(1, 'jedna'), (2, 'dva'), (3, 'tři')]
nazvy_cisel = dict(data)
</pre>
                    <div>
                        A to je vše, co se na slovník dá převést.
                    </div>
                    <div>
                        Jako bonus umí funkce <code>dict</code> ještě
                        brát pojmenované argumenty.
                        Každé jméno argumentu převede na řetězec,
                        použije ho jako klíč, a přiřadí danou hodnotu:
                    </div>
<pre>
popisy_funkci = dict(len='délka', str='řetězec', dict='slovník')
print(popisy_funkci['len'])
</pre>
                    <div class="note">
                        Pozor na to, že v tomhle případě musí být klíče
                        pythoní „jména“ – musí být použitelné jako jména
                        proměnných.
                        Například takhle nejde zadat jako klíč řetězec
                        <code>"def"</code> nebo <code>"propan-butan"</code>.
                    </div>
                    <div class="note">
                        Pojmenované argumenty jde kombinovat s ostatními
                        způsoby vytvoření <code>dict</code>.
                    </div>
                </section>
                <section class="col-lg-12">
                    <h2>A to je zatím ke slovníkům vše</h2>
                    <div>
                        Chceš-li mít všechny triky, které  slovníky umí,
                        pěkně pohromadě, můžeš si stáhnout
                        <a href="https://github.com/pyvec/cheatsheets/raw/master/dicts/dicts-cs.pdf">Slovníkový tahák</a>.
                    </div>
                    <div class="note">
                        Kompletní popis slovníků najdeš
                        v <a href="https://docs.python.org/3.0/library/stdtypes.html#mapping-types-dict">dokumentaci</a> Pythonu.
                    </div>
                </section>
            </div>
        

        <hr class="lesson-end">

        

        

    </div>
</div>



        <script type="text/javascript" src="/static/js/solutions.js"></script>

        
        <div class="footer">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <h2>Kontakt</h2>
                        <p>
                            E-mail: <a href="mailto:info@pyvec.org">info@pyvec.org</a><br>
                            GitHub: <a href="http://github.com/pyvec">github.com/pyvec</a><br>
                            Twitter: <a href="http://twitter.com/pyvec">@pyvec</a><br>
                            Youtube: <a href="http://www.youtube.com/pyvec">www.youtube.com/pyvec</a>
                        </p>
                    </div>
                    <div class="col">
                        <h2>Zapoj se</h2>
                        <p>
                            Tyto stránky na <a href="https://github.com/pyvec/naucse.python.cz">GitHubu</a>
                            <br>
                            Organizuj <a href="http://pyladies.cz/stan_se/">PyLadies</a>
                        </p>
                    </div>
                    <div class="col">
                        <h2>Licence</h2>
                        <p>
                            <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        
        <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

    </body>
</html>